<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataset Analysis Results</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Data Analyzer</a>
        </div>
    </nav>

    <div class="container mt-4">
        <h1 class="text-center mb-4">Dataset Analysis Results</h1>

        <!-- Columns Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="List of all column names in the dataset">Columns</h3>
            <p>{{ analysis['columns'] }}</p>

        </div>

        <!-- Data Types Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Data types of each column">Data Types</h3>
            <pre>{{ analysis['data_types'] }}</pre>
        </div>

        <!-- Missing Values Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Count of missing values in each column">Missing Values</h3>
            <pre>{{ analysis['missing_values'] }}</pre>
        </div>

        <!-- Shape Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Total rows and columns in the dataset">Shape</h3>
            <p>Rows: {{ analysis['shape'][0] }}, Columns: {{ analysis['shape'][1] }}</p>
        </div>

        <!-- Dataset Summary Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Summary statistics of numerical columns">Dataset Summary (Describe)</h3>
            <div class="table-responsive">
                {{ analysis['describe'] | safe }}
            </div>
        </div>

        <!-- First 5 Rows Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Preview of the first 5 rows of the dataset">First 5 Rows (Head)</h3>
            <div class="table-responsive">
                {{ analysis['head'] | safe }}
            </div>
        </div>

        <!-- Last 5 Rows Section -->
        <div class="mt-4 p-3 bg-light border rounded">
            <h3 data-bs-toggle="tooltip" title="Preview of the last 5 rows of the dataset">Last 5 Rows (Tail)</h3>
            <div class="table-responsive">
                {{ analysis['tail'] | safe }}
            </div>
        </div>
    </div>

    <!-- Buttons for Preprocessing, Training, and Visualization -->
    <div class="d-flex justify-content-center mt-4">
        <a href="{{ url_for('preprocess') }}" class="btn btn-warning mx-2">Preprocess</a>
        <a href="{{ url_for('train') }}" class="btn btn-primary mx-2">Train</a>
        <a href="{{ url_for('visualize') }}" class="btn btn-info mx-2">Visualize</a>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Enable Bootstrap tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    </script>
</body>
</html>
